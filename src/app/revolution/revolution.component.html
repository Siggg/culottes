<div>

  <div class="title">
    This bastille collects donations sent to the address <a href="#" (click)="fullAddressShown = !fullAddressShown"><span *ngIf="!fullAddressShown">{{ (revolutionAddress.length>8)? (revolutionAddress | slice:0:8)+'...':(revolutionAddress) }}</span><span *ngIf="fullAddressShown">{{ revolutionAddress }}</span></a> on the Ethereum Rinkeby blockchain.
  </div>

  <div class="ui segment ethAmount">
   Current amount in this bastille:<br />
   <div class="left labeled basic label">
    <a id="balance">
     {{ bastilleBalance }}
    </a> ETH
   <br />
   ( {{ convertToFiat(bastilleBalance) }}
   <select (change)="onChange($event)" class="ui fiat dropdown">
    <option value="EUR" [selected]="currency() == EUR">€</option>
    <option value="USD" [selected]="currency() == EUR">$</option>
    <option [selected]="currency() == EUR">AUD</option>
    <option [selected]="currency() == EUR">CAD</option>
    <option [selected]="currency() == EUR">CNY</option>
    <option value="GBP" [selected]="currency() == EUR">£</option>
    <option value="JPY" [selected]="currency() == EUR">¥</option>
   </select> )
   </div>
  </div>
   
  <div>
  
  <div class="ui segment ethAmount">
    <a routerLink="/donate"
    >Donate to this bastille<br />
      <button routerLink="/donate" class="ui icon button">
        <i class="plus circle icon"></i></button
      ></a>
  </div>
  
  </div>
  
  <div class="title" id="criteriaLabel">
    You can receive an income from this bastille if and only if you are <strong class="criteria">{{ criteria }}</strong>.
  
  <div class="ui segment">
  Are they <strong class="criteria">{{ criteria }}</strong> ?
    <table>
      <thead>
        <th>Their address</th>
        <th>Are they ?</th>
        <th>Your vote and bet</th>
      </thead>
      <tbody>
        <tr *ngFor="let citizen of citizens">
          <td data-title="{{ citizen.address }}">{{ (citizen.address.length>8)? (citizen.address | slice:0:8)+'...':(citizen.address) }}</td>
          <td align="center" *ngIf="citizen.opened; then thenBlock else elseBlock"></td>
            <ng-template #thenBlock>trial still open: {{ citizen.sansculotteScale }} x YES vs. {{ citizen.privilegedScale }} x NO</ng-template>
            <ng-template #elseBlock>
              <span *ngIf="citizen.matchesCriteria; then thenBlock2 else elseBlock2"></span>
              <ng-template #thenBlock2>YES</ng-template>
              <ng-template #elseBlock2>NO</ng-template>
            </ng-template>
            <td><a [routerLink]="['/citizen', citizen.address]">YES or NO ?</a></td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <div class="ui segment ethAmount">
    <a routerLink="/citizen"
    >Add or remove <strong>{{ criteria }}</strong><br />
      <button class="ui icon button">
        <i class="thumbs up outline icon"></i>
      </button>
    </a>
  </div>
  
  </div>
  
  <div style="display:none">
    <div class="ui segment ethAmount">
      Distributed so far
      <div class="ui left labeled button" tabindex="0">
        <a class="ui basic label">
          72.32
        </a> ETH
      </div>
    </div>
  
    <div class="tab">
      <app-open_trial></app-open_trial>
    </div>
    
  </div>
  
  <div class="ui segment ethAmount">
    You can further interact with this Revolution from the Etherscan website either <a href="https://rinkeby.etherscan.io/address/{{ revolutionAddress }}">via its Contract view</a> or <a href="https://rinkeby.etherscan.io/dapp/{{ revolutionAddress }}">via its Dapp view</a>.
  </div>
  
  <div class="ui segment">Status:
    {{ web3Status }}
  </div>

</div>
