<div>

 <h1 class="ui header">Up to {{ convertToFiat(distributionAmount) }} {{ currency() }} every {{ distributionPeriod.toFixed(1) }} {{ distributionPeriodUnit }} for {{ criteria }}</h1>

 <div class="ui segment form" id="criteriaLabel">
 
	 They get an income if and only if they are <strong class="criteria">{{ criteria }}</strong> according to the consensual verdict of their trial (see the list of trials below). Their income is, at most, of {{ distributionAmount }} ETH every {{ distributionBlockPeriod }} blocks of the Ethereum {{ revolutionBlockchain }} blockchain (about {{ convertToFiat(distributionAmount) }} {{ currency() }} every {{ distributionPeriod.toFixed(1) }} {{ distributionPeriodUnit }}) unless the bastille of this revolution is empty and needs further donations. First addresses get their income first. Last addresses may not get any income during this distribution round if the bastille of this revolution is empty. Distribution rounds are triggered by new votes. Voters pay mining fees. Voters earn ETH if the consensual verdict is aligned with their vote and loose their bet otherwise.

  <div class="ui relaxed celled list">
   <div class="item">
    <div class="content">
     <div class="header"><label>Are they really {{criteria}} ?</label></div>
    </div>
   </div>
  </div>
  <div class="ui relaxed celled list" *ngFor="let citizen of citizens">
   <div class="item">
    <i class="large balance scale middle aligned icon"></i>
    <div class="content">
      <div class="ui button" data-tooltip="Their Ethereum address. Click to expand or retract." data-position="top left">
       <a href="#" (click)="fullCAddressShown = !fullCAddressShown"><span *ngIf="!fullCAddressShown">{{ (citizen.address.length>8)? (citizen.address | slice:0:8)+'...':(citizen.address) }}</span><span *ngIf="fullCAddressShown" style="word-wrap: break-word">{{ citizen.address }}</span></a>
      </div>
      <div *ngIf="citizen.opened" class="ui tag label">No consensual verdict yet: {{ citizen.sansculotteScale / 1000000000000000000 }} ETH on YES vs. {{ citizen.privilegedScale / 1000000000000000000 }} ETH on NO</div>
      <div *ngIf="!citizen.opened && citizen.matchesCriteria" class="ui green tag label"><i class="thumbs up icon"></i> Consensual verdict: YES, they are.</div>
      <div *ngIf="!citizen.opened && !citizen.matchesCriteria"  class="ui red tag label"><i class="thumbs down icon"></i> Consensual verdict: NO, they are not.</div>
     <a [routerLink]="['/citizen', citizen.address]"><button class="ui left labeled icon button secondary" data-tooltip="Click to vote and bet." data-position="top right"><i class="envelope icon"></i><span *ngIf="citizen.opened">Cast your vote and bet: YES or NO ?</span><span *ngIf="!citizen.opened">Re-open their trial</span></button></a>
    </div>
   </div>
  </div>

  <a routerLink="/citizen">
   <button class="ui left labeled icon secondary button" data-tooltip="Click to register a new address and bet and vote about it.">
    <i class="envelope scale icon"></i>
    Add <strong>{{ criteria }}</strong>
   </button>
  </a>
 </div>
  
 <div class="ui segment form">
  The bastille of this revolution collects donations sent to the address <a href="#" (click)="fullAddressShown = !fullAddressShown"><span *ngIf="!fullAddressShown">{{ (revolutionAddress.length>8)? (revolutionAddress | slice:0:8)+'...':(revolutionAddress) }}</span><span *ngIf="fullAddressShown">{{ revolutionAddress }}</span></a> on the Ethereum {{ revolutionBlockchain }} blockchain. 100% of these donations are directly re-distributed as income, minus transaction safety fees (also known as network mining fees).

  <div class="field">
   <label>Current amount in the bastille of this revolution</label>
   <div class="ui large label">
    <span id="balance">
     {{ bastilleBalance }}
    </span> ETH
   </div>
   <div class="ui action input">
    <div class="ui right aligned label" style="text-align:right;">= {{ convertToFiat(bastilleBalance) }}</div>
   <select (change)="onCurrencyChange($event)" class="ui compact dropdown label" style="max-width:6em;">
    <option value="EUR" [selected]="currency() == 'EUR'">€</option>
    <option value="USD" [selected]="currency() == 'USD'">$</option>
    <option [selected]="currency() == 'AUD'">AUD</option>
    <option [selected]="currency() == 'CAD'">CAD</option>
    <option [selected]="currency() == 'CNY'">CNY</option>
    <option value="GBP" [selected]="currency() == 'GBP'">£</option>
    <option value="JPY" [selected]="currency() == 'JPY'">¥</option>
   </select>
    </div>
   </div>

   <a class="ui button primary" routerLink="/donate">
    <i class="heart icon"></i>
    Donate to the bastille of this revolution
   </a>
 </div>

 <div class="ui segment ethAmount">
  You can further interact with this Revolution from the Etherscan website either <a href="https://{{ revolutionBlockchain == 'Main' || revolutionBlockchain == 'Unknown' ? 'www' : revolutionBlockchain.toLowerCase() }}.etherscan.io/address/{{ revolutionAddress }}">via its Contract view</a> or <a href="https://{{ revolutionBlockchain == 'Main' || revolutionBlockchain == 'Unknown' ? 'www' : revolutionBlockchain.toLowerCase() }}.etherscan.io/dapp/{{ revolutionAddress }}">via its Dapp view</a>.
 </div>
  
 <div class="ui segment">Status:
  <div class="field">
   <label>Address of this revolution</label>
   <div class="ui label">{{ revolutionAddress }} on the {{ revolutionBlockchain }} blockchain</div>
  </div>
  <div class="field">
   <label><a href="https://github.com/Siggg/culottes/blob/master/how_to.md">Spark a revolution for your own cause or join another revolution</a></label>
   <!--select (change)="onRevolutionChange($event)" class="ui compact dropdown label">
    <option value="{{ revolutionAddress }}" [selected]="revolutionAddress != 'test'">For a frequent contributor to open source projects</option>
   </select-->
  </div>
 </div>
 <div [innerHTML]="web3Status"></div>
</div>

<div class="ui fullscreen longer {{ modalActivity }} modal">
  <div class="ui icon header">
    <i class="plug icon"></i>
    Connect to the blockchain
  </div>
  <div class="ui list">
   <div class="item" *ngIf="dappStatus()['statusWeb3']">
    <i class="check icon"></i>
    <div class="content">
      you are using a dapp browser
    </div>
   </div>
   <div class="item" *ngIf="!dappStatus()['statusWeb3']">
    <i class="x icon"></i>
    <div class="content">
      you must use a dapp browser
    </div>
   </div>
   <div class="item" *ngIf="dappStatus()['statusNetwork']">
    <i class="check icon"></i>
    <div class="content">
      your dapp browser is connected to the {{ revolutionBlockchain }} Ethereum blockchain network
    </div>
   </div>
   <div class="item" *ngIf="!dappStatus()['statusNetwork']">
    <i class="x icon"></i>
    <div class="content">
      your dapp browser must be connected to the {{ revolutionBlockchain }} Ethereum blockchain network
    </div>
   </div>
   <!--div class="item" *ngIf="dappStatus()['statusAccount']">
    <i class="check icon"></i>
    <div class="content">
      you are connected to a wallet within this dapp browser
    </div>
   </div>
   <div class="item" *ngIf="!dappStatus()['statusAccount']">
    <i class="x icon"></i>
    <div class="content">
      you must connect to a wallet within your dapp browser, (create a wallet if needed)
    </div>
   </div>
   <div class="item" *ngIf="dappStatus()['statusAuthorized']">
    <i class="check icon"></i>
    <div class="content">
      your dapp browser authorized interactions with the blockchain
    </div>
   </div>
   <div class="item" *ngIf="!dappStatus()['statusAuthorized']">
    <i class="x icon"></i>
    <div class="content">
      your dapp browser must authorize interactions with the blockchain
    </div>
   </div-->
 </div>
 Technical details:  <div class="content" [innerHTML]="web3Status">
  </div>
</div>
