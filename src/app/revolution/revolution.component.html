<div>

  <h1 class="ui header">Up to {{ convertToFiat(distributionAmount) }} {{ currency() }} ({{ distributionAmount }} ETH) every {{ distributionPeriod.toFixed(1) }} {{ distributionPeriodUnit }} for {{ criteria }}</h1>

 <div class="ui segment" id="discuss">
  <h2 class="ui header">1. Who does or does not verifiably match this criteria?</h2>
  <div class="content">Discuss it <a href="https://twitter.com/hashtag/{{ hashtagWithoutSymbol }}">on Twitter <span id="hashtag">{{ hashtag }}</span></a>.</div>
 </div>
 
 <div class="ui segment" id="add">
  <h2 class="ui header">2. What's their unique Ethereum address to be put on trial?</h2>
  <div class="content"><a routerLink="/citizen">
   <button class="ui left labeled icon secondary button" data-tooltip="Click to register a new address and bet and vote about it.">
    <i class="envelope scale icon"></i>
    Add the Ethereum address of <strong>{{ criteria }}</strong>
   </button>
  </a></div>
 </div>

 <div class="ui segment" id="vote">
  <h2 class="ui header">3. Vote and bet on their trial, see consensual verdicts</h2>
  <div class="ui relaxed celled list">
   <div class="item">
    <div class="content">
     <div class="header"><label>Are they really {{criteria}} ?</label></div>
    </div>
   </div>
  </div>
  <div class="ui relaxed celled list" *ngFor="let citizen of citizens">
   <div class="item">
    <i class="large balance scale middle aligned icon"></i>
    <div class="content">
      <div class="ui button" data-tooltip="Their Ethereum address. Click to expand or retract." data-position="top left">
       <a href="#" (click)="fullCAddressShown = !fullCAddressShown"><span *ngIf="!fullCAddressShown">{{ (citizen.address.length>8)? (citizen.address | slice:0:8)+'...':(citizen.address) }}</span><span *ngIf="fullCAddressShown" style="word-wrap: break-word">{{ citizen.address }}</span></a>
      </div>
      <a [routerLink]="['/citizen', citizen.address]"><div *ngIf="citizen.opened" class="ui tag label">No consensual verdict yet: {{ citizen.sansculotteScale / 1000000000000000000 }} ETH on YES vs. {{ citizen.privilegedScale / 1000000000000000000 }} ETH on NO</div>
	      <div *ngIf="!citizen.opened && citizen.matchesCriteria" class="ui green tag label"><i class="thumbs up icon"></i> Consensual verdict: YES, they are.{{ (citizen.sansculotteScale != 0) ? 'And '+(citizen.sansculotteScale / 1000000000000000000)+' ETH is on YES.':'' }}</div>
      <div *ngIf="!citizen.opened && !citizen.matchesCriteria"  class="ui red tag label"><i class="thumbs down icon"></i> Consensual verdict: NO, they are not.{{ (citizen.privilegedScale != 0) ? 'And '+(citizen.privilegedScale / 1000000000000000000)+' ETH is on NO.':'' }}</div>
      <button class="ui left labeled icon button secondary" data-tooltip="Click to vote and bet." data-position="top right"><i class="envelope icon"></i><span *ngIf="citizen.opened">Cast your vote and bet: YES or NO ?</span><span *ngIf="!citizen.opened">Re-open their trial</span></button></a>
    </div>
   </div>
  </div>
 </div>

 <div class="ui segment" id="trust">
  <h2 class="ui header">4. How much can you trust this app?</h2>
  <div class="ui segment form" id="criteriaLabel">
 
  <p> The owners of the addresses listed above get an income from this app if and only if they are <strong class="criteria" id="criteria">{{ criteria }}</strong> according to the consensual verdict of their trial. Their income is then, at most, of {{ distributionAmount }} ETH every {{ distributionBlockPeriod }} blocks of the Ethereum {{ revolutionBlockchain }} blockchain (about {{ convertToFiat(distributionAmount) }} {{ currency() }} every {{ distributionPeriod.toFixed(1) }} {{ distributionPeriodUnit }}) unless the bastille reserve of this app is empty and needs further donations. First addresses added above get their income first. Last addresses may not get any income during this distribution round if the bastille is empty. Distribution rounds are triggered by new votes. Voters pay mining fees. Voters earn ETH if the consensual verdict is aligned with their vote and loose their bet otherwise. </p>

  <p> These rules (and more detailed rules) are hard-coded into a smart contract running on the public Ethereum blockchain. This smart contract may still contain bugs or design flaws or security vulnerabilities. But <a href="https://{{ revolutionBlockchain == 'Main' || revolutionBlockchain == 'Mainnet' || revolutionBlockchain == 'Unknown' ? 'www' : revolutionBlockchain.toLowerCase() }}.etherscan.io/address/{{ revolutionAddress }}">you can read and verify its open source code and history of transactions (votes, distributions, ...) on the Etherem blockchain using a blockchain explorer such as Etherscan</a>. The current web interface you are using does not come from the blockchain itself but <a href="https://github.com/siggg/culottes">you can check its open source code from your web browser and on github</a>. And <a href="https://{{ revolutionBlockchain == 'Main' || revolutionBlockchain == 'Mainnet' || revolutionBlockchain == 'Unknown' ? 'www' : revolutionBlockchain.toLowerCase() }}.etherscan.io/dapp/{{ revolutionAddress }}">you can use an alternative web interface to interact with the contract (voting, donating, ...) such as the dapp view offered by Etherscan even though it is less convenient</a>. You can trust your coding skills if you have any or ask a skillful friend or trust the crowd or pay an audit firm. You can also trust any malicious hacker to study this technology and to quickly exploit any defect to grab the money in this app before you even know. In the end the code is 100% verifiable in a fairly trustable way. And time will tell how secure it is. </p>
 
 <p> According to the software code of this web interface, of the smart contract and of the blockchain, your Ethereum money, once donated to this app, gets strictly out of the reach of any human being. Contrary to a non profit organization managing donations or to a state managing taxes, this system is not governed by humans but by fully automated code which was written and published by humans. Nobody (even the authors of this code) can retrieve the money donated to the bastille before its gets through the code to the addresses which got a "YES" consensual verdict from voters (you can vote too!). People can be influenced or coerced into voting unfairly but the rules coded are designed to incentivize anyone to vote reasonably and against anyone trying to fool others : the more reasonably you vote for verifiable options, the more chance you have to vote as the majority of voters will. So the higher the probability you will win the trial and receive a fair share of the money put on stake by the loosing minority of voters. The more malicious voters lie while voting, the more money they put at stake, the more money anyone can make by voting against them and promoting the verifiable reasons they voted for the truth so that the majority of the crowd will see who has more chance to win. If ever a billionaire puts her foot in the game with a huge bet and vote on a "wrong" side of a vote, they take the risk that another billionaire comes and wins their stake by siding with the truth and the majority of the crowd. Or is it so ?</p>

 <p> You can challenge and discuss this publicly <a href="https://twitter.com/hashtag/{{ hashtagWithoutSymbol }}">on Twitter <span id="hashtag">{{ hashtag }}</span></a>.Tell how much you can or cannot trust this app!</p>

 <p> Conclusion : you can reasonably trust this app at least for small amount of money and low-stake votes.</p>
 </div>

 <div class="ui segment form">
  <h2 class="ui header">5. Donate Eth to be distributed</h2>
  The bastille of this revolution collects donations sent to the address <a href="#" (click)="fullAddressShown = !fullAddressShown"><span *ngIf="!fullAddressShown">{{ (revolutionAddress.length>8)? (revolutionAddress | slice:0:8)+'...':(revolutionAddress) }}</span><span *ngIf="fullAddressShown">{{ revolutionAddress }}</span></a> on the Ethereum {{ revolutionBlockchain }} blockchain. 100% of these donations are directly re-distributed as income, minus transaction safety fees (also known as network mining fees).

  <div class="field">
   <label>Current amount in the bastille of this revolution</label>
   <div class="ui large label">
    <span id="balance">
     {{ bastilleBalance }}
    </span> ETH
   </div>
   <div class="ui action input">
    <div class="ui right aligned label" style="text-align:right;">= {{ convertToFiat(bastilleBalance) }}</div>
   <select (change)="onCurrencyChange($event)" class="ui compact dropdown label" style="max-width:6em;">
    <option value="EUR" [selected]="currency() == 'EUR'">€</option>
    <option value="USD" [selected]="currency() == 'USD'">$</option>
    <option [selected]="currency() == 'AUD'">AUD</option>
    <option [selected]="currency() == 'CAD'">CAD</option>
    <option [selected]="currency() == 'CNY'">CNY</option>
    <option value="GBP" [selected]="currency() == 'GBP'">£</option>
    <option value="JPY" [selected]="currency() == 'JPY'">¥</option>
   </select>
    </div>
   </div>

   <a class="ui button primary" routerLink="/donate">
    <i class="heart icon"></i>
    Donate to the bastille of this revolution
   </a>
 </div>

 <div class="ui segment">Status:
  <div class="field">
   <label>Address of this revolution</label>
   <div class="ui label">{{ revolutionAddress }} on the {{ revolutionBlockchain }} blockchain</div>
  </div>
  <div class="field">
   <label><a href="https://github.com/Siggg/culottes/blob/master/how_to.md">Spark a revolution for your own cause or join another revolution</a></label>
   <select (change)="onRevolutionChange($event)" class="ui compact dropdown label">
    <option *ngFor="let revolution of otherRevolutions | keyvalue" value="{{ revolution.key }}" [selected]="revolution.value == '#Top3Contributors'">For a frequent contributor to open source projects</option>
   </select>
  </div>
 </div>
 <div [innerHTML]="web3Status"></div>
</div>

<div class="ui {{ lockModalActivity }} modal">
  <div class="ui icon header">
    <i class="lock icon"></i>
    Locked
  </div>
  <div class="ui content">
    <p>This contract has been locked by its owner. You can still vote for and against addresses as long as there is some ETH left in the bastille. But you can't donate any more ETH to the bastille. And votes are closed once the bastille is empty.</p>
    <p>This "locked" mode is meant to limit the risks that the contract is used or exploited in a malicious way. It's probably been locked because it is being exploited in such a way and a new version of the contract is on its way for deployment. Locking is the only function of the contract under the central control of its owner. Please come back as soon as an unlocked version of this contract is deployed. For more information, contact sig at akasig dot org (see "About" link at the top right of this page).</p>
  </div>
</div>

<div class="ui fullscreen longer {{ web3ModalActivity }} modal">
  <div class="ui icon header">
    <i class="plug icon"></i>
    Connect to the blockchain
  </div>
  <div class="ui list">
   <div class="item" *ngIf="dappStatus()['statusWeb3']">
    <i class="check icon"></i>
    <div class="content">
      you are using an Ethereum browser
    </div>
   </div>
   <div class="item" *ngIf="!dappStatus()['statusWeb3']">
    <i class="x icon"></i>
    <div class="content">
      you must install and use an Ethereum browser such as <a href="https://metamask.io/">Metamask on PC</a> or <a href="https://www.cipherbrowser.com/">Cipher on mobile</a>
    </div>
   </div>
   <div class="item" *ngIf="dappStatus()['statusNetwork']">
    <i class="check icon"></i>
    <div class="content">
      your Ethereum browser is connected to the {{ revolutionBlockchain }} Ethereum blockchain network
    </div>
   </div>
   <div class="item" *ngIf="!dappStatus()['statusNetwork']">
    <i class="x icon"></i>
    <div class="content">
      your Ethereum browser must be connected to the {{ revolutionBlockchain }} Ethereum blockchain network
    </div>
   </div>
   <!--div class="item" *ngIf="dappStatus()['statusAccount']">
    <i class="check icon"></i>
    <div class="content">
      you are connected to a wallet within this Ethereum browser
    </div>
   </div>
   <div class="item" *ngIf="!dappStatus()['statusAccount']">
    <i class="x icon"></i>
    <div class="content">
      you must connect to a wallet within your Ethereum browser, (create a wallet if needed)
    </div>
   </div>
   <div class="item" *ngIf="dappStatus()['statusAuthorized']">
    <i class="check icon"></i>
    <div class="content">
      your Ethereum browser authorized interactions with the blockchain
    </div>
   </div>
   <div class="item" *ngIf="!dappStatus()['statusAuthorized']">
    <i class="x icon"></i>
    <div class="content">
      your Ethereum browser must authorize interactions with the blockchain
    </div>
   </div-->
 </div>
 Technical details:  <div class="content" [innerHTML]="web3Status">
  </div>
</div>
