<div>

 <div class="title">
  This bastille collects donations sent to the address <a href="#" (click)="fullAddressShown = !fullAddressShown"><span *ngIf="!fullAddressShown">{{ (revolutionAddress.length>8)? (revolutionAddress | slice:0:8)+'...':(revolutionAddress) }}</span><span *ngIf="fullAddressShown">{{ revolutionAddress }}</span></a> on the Ethereum Rinkeby blockchain.
 </div>

 <div class="ui segment">
 
  Current amount in this bastille:<br />
  <div class="ui label">
   <span id="balance">
    {{ bastilleBalance }}
   </span> ETH
  </div>
  <br />
  <div class="ui action input mini">
   <div class="ui basic label">= {{ convertToFiat(bastilleBalance) }}</div>
   <select (change)="onChange($event)" class="ui floating dropdown">
    <option value="EUR" [selected]="currency() == 'EUR'">€</option>
    <option value="USD" [selected]="currency() == 'USD'">$</option>
    <option [selected]="currency() == 'AUD'">AUD</option>
    <option [selected]="currency() == 'CAD'">CAD</option>
    <option [selected]="currency() == 'CNY'">CNY</option>
    <option value="GBP" [selected]="currency() == 'GBP'">£</option>
    <option value="JPY" [selected]="currency() == 'JPY'">¥</option>
   </select>
  </div>
  
  <div class="ui segment">
   <a class="ui label" routerLink="/donate">
    Donate to this bastille
    <i class="heart icon"></i>
   </a>
  </div>
  
 </div>
  
 <div class="ui segment" id="criteriaLabel">
 
  You can receive an income from this bastille if and only if you are <strong class="criteria">{{ criteria }}</strong>.
  
 <div class="ui segment">
  Are they <strong class="criteria">{{ criteria }}</strong> ?
  <table>
   <thead>
    <th>Their address</th>
    <th>Are they ?</th>
    <th>Your vote and bet</th>
   </thead>
   <tbody>
    <tr *ngFor="let citizen of citizens">
     <td data-title="{{ citizen.address }}">{{ (citizen.address.length>8)? (citizen.address | slice:0:8)+'...':(citizen.address) }}</td>
     <td align="center" *ngIf="citizen.opened; then thenBlock else elseBlock"></td>
     <ng-template #thenBlock>trial still open: {{ citizen.sansculotteScale }} x YES vs. {{ citizen.privilegedScale }} x NO</ng-template>
     <ng-template #elseBlock>
      <span *ngIf="citizen.matchesCriteria; then thenBlock2 else elseBlock2"></span>
      <ng-template #thenBlock2>YES</ng-template>
      <ng-template #elseBlock2>NO</ng-template>
     </ng-template>
     <td><a [routerLink]="['/citizen', citizen.address]">YES or NO ?</a></td>
    </tr>
   </tbody>
  </table>
 </div>
  
  <div class="ui segment">
   <a routerLink="/citizen">Add or remove <strong>{{ criteria }}</strong><br />
    <button class="ui icon button">
     <i class="balance scale icon"></i>
    </button>
   </a>
  </div>
  
 </div>
  
 <div class="ui segment ethAmount">
  You can further interact with this Revolution from the Etherscan website either <a href="https://rinkeby.etherscan.io/address/{{ revolutionAddress }}">via its Contract view</a> or <a href="https://rinkeby.etherscan.io/dapp/{{ revolutionAddress }}">via its Dapp view</a>.
 </div>
  
 <div class="ui segment">Status:
  {{ web3Status }}
 </div>

</div>
