<div>

 <h1 class="ui header">For {{ criteria }}</h1>

 <div class="ui segment form">
  This bastille collects donations sent to the address <a href="#" (click)="fullAddressShown = !fullAddressShown"><span *ngIf="!fullAddressShown">{{ (revolutionAddress.length>8)? (revolutionAddress | slice:0:8)+'...':(revolutionAddress) }}</span><span *ngIf="fullAddressShown">{{ revolutionAddress }}</span></a> on the Ethereum Rinkeby blockchain.

  <div class="field">
   <label>Current amount in this bastille</label>
   <div class="ui large label fluid">
    <span id="balance">
     {{ bastilleBalance }}
    </span> ETH
   </div>
   <div class="ui action input">
    <div class="ui right aligned label fluid" style="text-align:right;">= {{ convertToFiat(bastilleBalance) }}</div>
   <select (change)="onChange($event)" class="ui compact dropdown label" style="max-width:6em;">
    <option value="EUR" [selected]="currency() == 'EUR'">€</option>
    <option value="USD" [selected]="currency() == 'USD'">$</option>
    <option [selected]="currency() == 'AUD'">AUD</option>
    <option [selected]="currency() == 'CAD'">CAD</option>
    <option [selected]="currency() == 'CNY'">CNY</option>
    <option value="GBP" [selected]="currency() == 'GBP'">£</option>
    <option value="JPY" [selected]="currency() == 'JPY'">¥</option>
   </select>
    </div>
   </div>
  
   <a class="ui button primary" routerLink="/donate">
    <i class="heart icon"></i>
    Donate to this bastille
   </a>
 </div>
  
 <div class="ui segment form" id="criteriaLabel">
 
	 They can receive an income from this bastille if and only if they are <strong class="criteria">{{ criteria }}</strong>. The income is of {{ distributionAmount }} ETH (~ {{ convertToFiat(distributionAmount) }} {{ currency() }}) distributed every {{ distributionBlockPeriod }} blocks of the Ethereum Rinkeby blockchain (about every {{ distributionBlockPeriod * 15 }} seconds).
  
  <div class="ui relaxed celled list" *ngFor="let citizen of citizens">
   <div class="item">
    <div class="content">
     <div class="header"><label>Are they {{criteria}} ?</label></div>
     <div class="description">Their address, our verdict, your vote</div>
    </div>
   </div>
   <div class="item">
    <i class="large balance scale middle aligned icon"></i>
    <div class="content">
      <div class="ui label">
       <a href="#" (click)="fullCAddressShown = !fullCAddressShown"><span *ngIf="!fullCAddressShown">{{ (citizen.address.length>8)? (citizen.address | slice:0:8)+'...':(citizen.address) }}</span><span *ngIf="fullCAddressShown" style="word-wrap: break-word">{{ citizen.address }}</span></a>
      </div>
      <div *ngIf="citizen.opened" class="ui tag label">None yet: {{ citizen.sansculotteScale }} x YES vs. {{ citizen.privilegedScale }} x NO</div>
      <div *ngIf="!citizen.opened && citizen.matchesCriteria" class="ui green tag label"><i class="thumbs up icon"></i> YES</div>
      <div *ngIf="!citizen.opened && !citizen.matchesCriteria"  class="ui red tag label"><i class="thumbs down icon"></i> NO</div>
     <a [routerLink]="['/citizen', citizen.address]"><button class="ui left labeled icon button secondary"><i class="envelope icon"></i><span *ngIf="citizen.opened">Your vote: YES or NO ?</span><span *ngIf="!citizen.opened">Re-open trial</span></button></a>
    </div>
   </div>
  </div>

  <a routerLink="/citizen">
   <button class="ui left labeled icon tertiary button">
    <i class="balance scale icon"></i>
    Add <strong>{{ criteria }}</strong>
   </button>
  </a>
 </div>
  
 <div class="ui segment ethAmount">
  You can further interact with this Revolution from the Etherscan website either <a href="https://rinkeby.etherscan.io/address/{{ revolutionAddress }}">via its Contract view</a> or <a href="https://rinkeby.etherscan.io/dapp/{{ revolutionAddress }}">via its Dapp view</a>.
 </div>
  
 <div class="ui segment">Status:
  {{ web3Status }}
 </div>

</div>
